# .drone.yml file

kind: pipeline
name: default
steps:
- name: Deploy
  image: alpine
  environment:
    TF_VAR_region:
      from_secret: tf_var_region
    TF_VAR_zone:
      from_secret: tf_var_zone
    TF_VAR_project:
      from_secret: tf_var_project
    TF_VAR_cluster_name:
      from_secret: tf_var_cluster_name
    TF_VAR_machine_type:
      from_secret: tf_var_machine_type
    TF_VAR_min_node_count:
      from_secret: tf_var_min_node_count
    TF_VAR_max_node_count:
      from_secret: tf_var_max_node_count
    TF_VAR_node_version:
      from_secret: tf_var_node_version
    TF_VAR_gke_secondary_ip_ranges_pods:
      from_secret: tf_var_gke_secondary_ip_ranges_pods
    TF_VAR_gke_secondary_ip_ranges_services:
      from_secret: tf_var_gke_secondary_ip_ranges_services
    TF_VAR_bastion_admins:
      from_secret: tf_var_bastion_admins
    TF_VAR_bastion_users:
      from_secret: tf_var_bastion_users